<section class="toolbar">
  <div class="filters">
    <label class="label">Categoría:</label>
    <select (change)="onSelectCategory($any($event.target).value)">
      <option value="">Todas</option>
      <option *ngFor="let c of categorias()" [value]="c.id">{{ c.name }}</option>
    </select>
  </div>

  <div class="summary" *ngIf="total() as t">
    <span>Mostrando {{ productos().length }} de {{ t }}</span>
  </div>
</section>

<!-- Estados -->
<div class="state" *ngIf="loading()">Cargando productos…</div>
<div class="state error" *ngIf="error() && !loading()">{{ error() }}</div>

<!-- Grid -->
<section class="grid" >
  @for (p of productos(); track p.id){
    <app-product-card [product]="p"></app-product-card>
  }
</section>

<!-- Vacío -->
<div class="empty" *ngIf="!loading() && !error() && productos().length === 0">
  No se encontraron productos. Probá otra categoría.
</div>
